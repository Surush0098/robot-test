<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ø³ØªØ®ÙˆØ§Ù†â€ŒÙ‡Ø§ÛŒ Ù…Ø®ÙÛŒ</title>
    <style>
        body { margin: 0; background-color: #222; font-family: monospace; overflow: hidden; }
        #sidebar {
            position: absolute; top: 0; right: 0; width: 350px; height: 100vh;
            background: #151515; color: #ccc; overflow-y: auto; padding: 15px;
            border-left: 2px solid #00ffcc; font-size: 13px;
        }
        .highlight { color: #00ffcc; font-weight: bold; background: #222; padding: 2px; }
        .mesh { color: white; border-bottom: 1px solid #555; padding: 5px 0; }
        h3 { color: white; margin-top: 0; border-bottom: 1px solid #00ffcc; }
    </style>
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>
</head>
<body>
    <div id="sidebar">
        <h3>Ù†ØªØ§ÛŒØ¬ Ú©Ø§Ù„Ø¨Ø¯Ø´Ú©Ø§ÙÛŒ Robotx</h3>
        <div id="results">Ø¯Ø± Ø­Ø§Ù„ Ø§Ø³Ú©Ù†...</div>
    </div>

    <script type="module">
        import * as THREE from 'three';
        import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x444444);
        const camera = new THREE.PerspectiveCamera(50, (window.innerWidth-350)/window.innerHeight, 0.1, 100);
        camera.position.set(0, 1.5, 3);
        
        const renderer = new THREE.WebGLRenderer({antialias: true});
        renderer.setSize(window.innerWidth - 350, window.innerHeight);
        document.body.appendChild(renderer.domElement);
        
        const controls = new OrbitControls(camera, renderer.domElement);
        scene.add(new THREE.AmbientLight(0xffffff, 2));

        const resultBox = document.getElementById('results');
        const loader = new GLTFLoader();
        
        loader.load('./Robotx.glb', function(gltf) {
            scene.add(gltf.scene);
            gltf.scene.position.y = -1;
            resultBox.innerHTML = ""; 

            let foundSkin = false;

            // Ú¯Ø´ØªÙ† Ø¯Ù†Ø¨Ø§Ù„ SkinnedMesh (Ù…Ø´Ù Ø§Ø³ØªØ®ÙˆØ§Ù†â€ŒØ¯Ø§Ø±)
            gltf.scene.traverse((o) => {
                if (o.isSkinnedMesh) {
                    foundSkin = true;
                    resultBox.innerHTML += `<div class="mesh">ğŸ“¦ MESH: ${o.name}</div>`;
                    
                    // Ø­Ø§Ù„Ø§ Ù…ÛŒØ±ÛŒÙ… Ø³Ø±Ø§Øº Ø§Ø³ØªØ®ÙˆØ§Ù†â€ŒÙ‡Ø§ÛŒ Ù…Ø®ÙÛŒ Ø¯Ø§Ø®Ù„ Ø§Ø³Ú©Ù„Øª
                    if (o.skeleton && o.skeleton.bones) {
                        resultBox.innerHTML += `<div style="color:yellow; margin-bottom:5px">ØªØ¹Ø¯Ø§Ø¯ Ø§Ø³ØªØ®ÙˆØ§Ù†: ${o.skeleton.bones.length}</div>`;
                        
                        o.skeleton.bones.forEach(bone => {
                            let boneName = bone.name;
                            let style = "color: #888; margin-left: 15px;";
                            
                            // Ø§Ú¯Ø± Ø§Ø³Ù…Ø´ Ø´Ø¨ÛŒÙ‡ Ø³Ø± Ø¨ÙˆØ¯
                            if (boneName.toLowerCase().includes('head') || boneName.toLowerCase().includes('neck')) {
                                style = "color: #00ffcc; font-weight:bold; margin-left: 15px;";
                                boneName = `>>> ${boneName} <<<`;
                            }
                            
                            resultBox.innerHTML += `<div style="${style}">ğŸ¦´ ${boneName}</div>`;
                        });
                    } else {
                        resultBox.innerHTML += `<div style="color:red">Ø§ÛŒÙ† Ù…Ø´ Ø§Ø³Ú©Ù„Øª (Skeleton) Ù†Ø¯Ø§Ø±Ø¯!</div>`;
                    }
                    resultBox.innerHTML += "<hr>";
                }
            });

            if (!foundSkin) {
                resultBox.innerHTML = "<h3 style='color:red'>Ù‡ÛŒÚ† Ù…Ø¯Ù„ SkinnedMesh Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯!</h3><p>Ø§Ø­ØªÙ…Ø§Ù„Ø§Ù‹ Ù…Ø¯Ù„ Ø¨Ù‡ ØµÙˆØ±Øª Static Mesh Ø§Ú©Ø³Ù¾ÙˆØ±Øª Ø´Ø¯Ù‡.</p>";
            }

        }, undefined, function(e) {
            resultBox.innerHTML = "Ø®Ø·Ø§ Ø¯Ø± Ù„ÙˆØ¯ ÙØ§ÛŒÙ„.";
        });

        function animate() { requestAnimationFrame(animate); renderer.render(scene, camera); }
        animate();
    </script>
</body>
</html>
